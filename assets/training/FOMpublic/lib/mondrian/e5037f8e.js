"use strict";(self.webpackChunk_articulate_mondrian_bundles=self.webpackChunk_articulate_mondrian_bundles||[]).push([[110],{1110:(e,t,i)=>{i.r(t),i.d(t,{createUpgradePath:()=>Us,getConverter:()=>Cs,getTransformSteps:()=>Ls,getVersionClaim:()=>Os,upgrade:()=>Vs});var n=i(2),a=i(3537),o=i(8683),r=i(3610),l=i(6195);const z=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),d=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),u=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:d.default({value:1,unit:"px"})}),s=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),c=s.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),p=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),m=s.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:p.default({width:1,height:1,left:0,top:0})}),b=s.extend({type:l.z.literal("none")}),g=l.z.discriminatedUnion("type",[c,m,b]),f=l.z.discriminatedUnion("type",[c,b]),y=l.z.object({top:d.default({value:0,unit:"px"}),left:d.default({value:0,unit:"px"}),bottom:d.default({value:0,unit:"px"}),right:d.default({value:0,unit:"px"})}),x=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),h=x.extend({x:d.default({value:0,unit:"px"}),y:d.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:d.default({value:100,unit:"%"}),height:d.default({value:100,unit:"%"}),padding:y,fill:g,overlay:f,aspectRatioLocked:l.z.boolean(),border:u,borderRadius:l.z.object({applied:l.z.boolean().default(!1),topLeft:d.default({value:0,unit:"px"}),topRight:d.default({value:0,unit:"px"}),bottomRight:d.default({value:0,unit:"px"}),bottomLeft:d.default({value:0,unit:"px"})}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1)}),j=e=>l.z.intersection(x,e.partial()),v=e=>l.z.intersection(l.z.object({default:e}),l.z.record(j(e))),k=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:v(e),assets:l.z.record(z).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(2)}),I=(j(h),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),w=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),S=w.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),P=w.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),R=w.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),_=l.z.discriminatedUnion("action",[P,R,S]),V=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(I).max(1),triggers:l.z.array(_),_v:l.z.literal(2)}),U=h.extend({children:l.z.array(I)}),L=k(U).extend({type:l.z.literal("group")}),C=(j(U),h.extend({altText:l.z.string().default("")})),O=k(C).extend({type:l.z.literal("image")}),E=(j(C),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>E))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.any()).optional()}),l.z.record(l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.any()))),X=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:E}),F=l.z.enum(["top","middle","bottom"]),A=h.extend({text:X,textVerticalAlign:F.default("top")}),T=k(A).extend({type:l.z.literal("text")}),D=(j(A),A.extend({clipPath:l.z.literal("ellipse").nullable().default(null),altText:l.z.string().nullable().default(null)})),B=k(D).extend({type:l.z.literal("shape")}),N=(j(D),l.z.object({default:l.z.string()})),q=h.extend({videoSources:N}),Y=k(q).extend({type:l.z.literal("video")}),$=(j(q),l.z.discriminatedUnion("type",[L,O,B,T,Y])),M=l.z.object({blockuments:l.z.record(V).optional(),items:l.z.record($).optional()}),G=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),H=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),J=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:H.default({value:1,unit:"px"})}),K=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Q=K.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),W=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Z=K.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:W.default({width:1,height:1,left:0,top:0})}),ee=K.extend({type:l.z.literal("none")}),te=l.z.discriminatedUnion("type",[Q,Z,ee]),ie=l.z.discriminatedUnion("type",[Q,ee]),ne=l.z.object({top:H.default({value:0,unit:"px"}),left:H.default({value:0,unit:"px"}),bottom:H.default({value:0,unit:"px"}),right:H.default({value:0,unit:"px"})}),ae=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),oe=ae.extend({x:H.default({value:0,unit:"px"}),y:H.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:H.default({value:100,unit:"%"}),height:H.default({value:100,unit:"%"}),padding:ne,fill:te,overlay:ie,aspectRatioLocked:l.z.boolean(),border:J,borderRadius:l.z.object({applied:l.z.boolean().default(!1),topLeft:H.default({value:0,unit:"px"}),topRight:H.default({value:0,unit:"px"}),bottomRight:H.default({value:0,unit:"px"}),bottomLeft:H.default({value:0,unit:"px"})}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1)}),re=e=>l.z.intersection(ae,e.partial()),le=e=>l.z.intersection(l.z.object({default:e}),l.z.record(re(e))),ze=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:le(e),assets:l.z.record(G).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(3)}),de=(re(oe),l.z.object({default:l.z.string()})),ue=oe.extend({audioSources:de}),se=ze(ue).extend({type:l.z.literal("audio")}),ce=(re(ue),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),pe=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),me=pe.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),be=pe.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),ge=pe.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),fe=l.z.discriminatedUnion("action",[be,ge,me]),ye=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(ce).max(1),triggers:l.z.array(fe),_v:l.z.literal(3)}),xe=oe.extend({children:l.z.array(ce)}),he=ze(xe).extend({type:l.z.literal("group")}),je=(re(xe),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>je))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.any()).optional()}),l.z.record(l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.any()))),ve=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:je}),ke=l.z.enum(["top","middle","bottom"]),Ie=oe.extend({text:ve,textVerticalAlign:ke.default("top")}),we=ze(Ie).extend({type:l.z.literal("text")}),Se=(re(Ie),Ie.extend({clipPath:l.z.literal("ellipse").nullable().default(null),altText:l.z.string().nullable().default(null)})),Pe=ze(Se).extend({type:l.z.literal("shape")}),Re=(re(Se),l.z.object({default:l.z.string()})),_e=oe.extend({videoSources:Re}),Ve=ze(_e).extend({type:l.z.literal("video")}),Ue=(re(_e),l.z.discriminatedUnion("type",[se,he,Pe,we,Ve])),Le=l.z.object({blockuments:l.z.record(ye).optional(),items:l.z.record(Ue).optional()});var Ce=i(4816);function Oe(e,t,i){const{default:n,...a}=e;return{default:t(n),...Ce(a,i)}}function Ee(e){return{...e,altText:"altText"in e?e.altText??null:void 0}}function Xe(e){return{...e,clipPath:null,altText:e.altText??null,text:{id:crypto.randomUUID(),type:"tiptap",json:{type:"doc",content:[]}},textVerticalAlign:"middle"}}function Fe(e){return"image"===e.type?function(e){return{...e,_v:3,type:"shape",states:Oe(e.states,Xe,Ee)}}(e):{...e,_v:3}}const Ae=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Te=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),De=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Te.default({value:1,unit:"px"})}),Be=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Ne=Be.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),qe=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Ye=Be.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:qe.default({width:1,height:1,left:0,top:0})}),$e=Be.extend({type:l.z.literal("none")}),Me=l.z.discriminatedUnion("type",[Ne,Ye,$e]),Ge=l.z.discriminatedUnion("type",[Ne,$e]),He=l.z.object({top:Te.default({value:0,unit:"px"}),left:Te.default({value:0,unit:"px"}),bottom:Te.default({value:0,unit:"px"}),right:Te.default({value:0,unit:"px"})}),Je=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Ke=l.z.object({type:l.z.literal("ellipse")}),Qe=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),We=l.z.object({type:l.z.literal("cloud")}),Ze=l.z.discriminatedUnion("type",[Je,Ke,Qe,We]),et=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),tt=et.extend({x:Te.default({value:0,unit:"px"}),y:Te.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Te.default({value:100,unit:"%"}),height:Te.default({value:100,unit:"%"}),padding:He,fill:Me,overlay:Ge,aspectRatioLocked:l.z.boolean(),border:De,clipDef:Ze.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1)}),it=e=>l.z.intersection(et,e.partial()),nt=e=>l.z.intersection(l.z.object({default:e}),l.z.record(it(e))),at=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:nt(e),assets:l.z.record(Ae).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(4)}),ot=(it(tt),l.z.object({default:l.z.string()})),rt=tt.extend({audioSources:ot}),lt=at(rt).extend({type:l.z.literal("audio")}),zt=(it(rt),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),dt=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),ut=dt.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),st=dt.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),ct=dt.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),pt=l.z.discriminatedUnion("action",[st,ct,ut]),mt=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(zt).max(1),triggers:l.z.array(pt),fonts:l.z.record(l.z.string()).optional(),_v:l.z.literal(4)}),bt=tt.extend({children:l.z.array(zt)}),gt=at(bt).extend({type:l.z.literal("group")}),ft=(it(bt),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>ft))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.any()).optional()}),l.z.record(l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.any()))),yt=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:ft}),xt=l.z.enum(["top","middle","bottom"]),ht=tt.extend({text:yt,textVerticalAlign:xt.default("top")}),jt=at(ht).extend({type:l.z.literal("text")}),vt=(it(ht),ht.extend({altText:l.z.string().nullable().default(null)})),kt=at(vt).extend({type:l.z.literal("shape")}),It=(it(vt),l.z.object({default:l.z.string()})),wt=tt.extend({videoSources:It}),St=at(wt).extend({type:l.z.literal("video")}),Pt=(it(wt),l.z.discriminatedUnion("type",[lt,gt,kt,jt,St])),Rt=l.z.object({blockuments:l.z.record(mt).optional(),items:l.z.record(Pt).optional()});function _t(e){return e.applied?{type:"rectangle",borderRadius:{topLeft:e.topLeft.value,topRight:e.topRight.value,bottomRight:e.bottomRight.value,bottomLeft:e.bottomLeft.value}}:{type:"rectangle"}}function Vt(e){const{clipPath:t,borderRadius:i,...n}=e;return"ellipse"===t?{...n,clipDef:{type:"ellipse"}}:{...n,clipDef:_t(i)}}function Ut(e){const{borderRadius:t,...i}=e;return{...i,clipDef:_t(t)}}function Lt(e){const{borderRadius:t,...i}=e;return t?{...i,clipDef:_t(t)}:{...i}}function Ct(e){if("shape"===e.type)return{...e,_v:4,states:Oe(e.states,Vt,(t=>function(e,t){const{clipPath:i,borderRadius:n,...a}=e;return"ellipse"===i?{...a,clipDef:{type:"ellipse"}}:"ellipse"===t.clipPath?{...a}:n?{...a,clipDef:_t(n)}:{...a}}(t,e.states.default)))};if("text"===e.type)return{...e,_v:4,states:Oe(e.states,Ut,Lt)};if("video"===e.type)return{...e,_v:4,states:Oe(e.states,Ut,Lt)};if("group"===e.type)return{...e,_v:4,states:Oe(e.states,Ut,Lt)};if("audio"===e.type)return{...e,_v:4,states:Oe(e.states,Ut,Lt)};throw new Error("Internal error: should be unreachable")}const Ot=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Et=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Xt=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Et.default({value:1,unit:"px"})}),Ft=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),At=Ft.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Tt=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Dt=Ft.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Tt.default({width:1,height:1,left:0,top:0})}),Bt=Ft.extend({type:l.z.literal("none")}),Nt=l.z.discriminatedUnion("type",[At,Dt,Bt]),qt=l.z.discriminatedUnion("type",[At,Bt]),Yt=l.z.object({top:Et.default({value:0,unit:"px"}),left:Et.default({value:0,unit:"px"}),bottom:Et.default({value:0,unit:"px"}),right:Et.default({value:0,unit:"px"})}),$t=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Mt=l.z.object({type:l.z.literal("ellipse")}),Gt=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Ht=l.z.object({type:l.z.literal("cloud")}),Jt=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Kt=l.z.object({type:l.z.literal("triangle")}),Qt=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),Wt=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),Zt=l.z.object({type:l.z.literal("octagon")}),ei=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),ti=l.z.discriminatedUnion("type",[Qt,Wt,Ht,Mt,Zt,Jt,$t,Gt,Kt,ei]),ii=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),ni=ii.extend({x:Et.default({value:0,unit:"px"}),y:Et.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Et.default({value:100,unit:"%"}),height:Et.default({value:100,unit:"%"}),padding:Yt,fill:Nt,overlay:qt,aspectRatioLocked:l.z.boolean(),border:Xt,clipDef:ti.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),ai=e=>l.z.intersection(ii,e.partial()),oi=e=>l.z.intersection(l.z.object({default:e}),l.z.record(ai(e))),ri=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:oi(e),assets:l.z.record(Ot).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(5)}),li=(ai(ni),l.z.object({default:l.z.string()})),zi=ni.extend({audioSources:li}),di=ri(zi).extend({type:l.z.literal("audio")}),ui=(ai(zi),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),si=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),ci=si.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),pi=si.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),mi=si.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),bi=l.z.discriminatedUnion("action",[pi,mi,ci]),gi=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(ui).max(1),triggers:l.z.array(bi),fonts:l.z.record(l.z.string()).optional(),_v:l.z.literal(5)}),fi=ni.extend({children:l.z.array(ui)}),yi=ri(fi).extend({type:l.z.literal("group")}),xi=(ai(fi),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>xi))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.any()).optional()}),l.z.record(l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.any()))),hi=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:xi}),ji=l.z.enum(["top","middle","bottom"]),vi=ni.extend({text:hi,textVerticalAlign:ji.default("top")}),ki=ri(vi).extend({type:l.z.literal("text")}),Ii=(ai(vi),vi.extend({altText:l.z.string().nullable().default(null)})),wi=ri(Ii).extend({type:l.z.literal("shape")}),Si=(ai(Ii),l.z.object({default:l.z.string()})),Pi=ni.extend({videoSources:Si}),Ri=ri(Pi).extend({type:l.z.literal("video")}),_i=(ai(Pi),l.z.discriminatedUnion("type",[di,yi,wi,ki,Ri])),Vi=l.z.object({blockuments:l.z.record(gi).optional(),items:l.z.record(_i).optional()}),Ui={authoringAspectRatioCropLock:"none"};function Li(e){return{...e,...Ui}}function Ci(e){const t=null!=e.width||null!=e.height?Ui:null;return{...e,...t}}function Oi(e){if("shape"===e.type)return{...e,_v:5,states:Oe(e.states,Li,Ci)};if("text"===e.type)return{...e,_v:5,states:Oe(e.states,Li,Ci)};if("video"===e.type)return{...e,_v:5,states:Oe(e.states,Li,Ci)};if("audio"===e.type)return{...e,_v:5,states:Oe(e.states,Li,Ci)};if("group"===e.type)return{...e,_v:5,states:Oe(e.states,Li,Ci)};throw new Error("Unexpected item type!")}const Ei=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Xi=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Fi=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Xi.default({value:1,unit:"px"})}),Ai=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Ti=Ai.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Di=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Bi=Ai.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Di.default({width:1,height:1,left:0,top:0})}),Ni=Ai.extend({type:l.z.literal("none")}),qi=l.z.discriminatedUnion("type",[Ti,Bi,Ni]),Yi=l.z.discriminatedUnion("type",[Ti,Ni]),$i=l.z.object({top:Xi.default({value:0,unit:"px"}),left:Xi.default({value:0,unit:"px"}),bottom:Xi.default({value:0,unit:"px"}),right:Xi.default({value:0,unit:"px"})}),Mi=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Gi=l.z.object({type:l.z.literal("ellipse")}),Hi=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Ji=l.z.object({type:l.z.literal("cloud")}),Ki=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Qi=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),Wi=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),Zi=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),en=l.z.object({type:l.z.literal("octagon")}),tn=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),nn=l.z.object({type:l.z.literal("shield")}),an=l.z.object({type:l.z.literal("speechBubble")}),on=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),rn=l.z.discriminatedUnion("type",[Wi,Zi,Ji,Gi,en,Ki,Mi,Hi,Qi,tn,nn,an,on]),ln=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),zn=ln.extend({x:Xi.default({value:0,unit:"px"}),y:Xi.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Xi.default({value:100,unit:"%"}),height:Xi.default({value:100,unit:"%"}),padding:$i,fill:qi,overlay:Yi,aspectRatioLocked:l.z.boolean(),border:Fi,clipDef:rn.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),dn=e=>l.z.intersection(ln,e.partial()),un=e=>l.z.intersection(l.z.object({default:e}),l.z.record(dn(e))),sn=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:un(e),assets:l.z.record(Ei).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(6)}),cn=(dn(zn),l.z.object({default:l.z.string()})),pn=zn.extend({audioSources:cn}),mn=sn(pn).extend({type:l.z.literal("audio")}),bn=(dn(pn),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),gn=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),fn=gn.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),yn=gn.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),xn=gn.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),hn=l.z.discriminatedUnion("action",[yn,xn,fn]),jn=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(bn).max(1),triggers:l.z.array(hn),fonts:l.z.record(l.z.string()).optional(),_v:l.z.literal(6)}),vn=zn.extend({children:l.z.array(bn)}),kn=sn(vn).extend({type:l.z.literal("group")}),In=(dn(vn),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>In))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.any()).optional()}),l.z.record(l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.any()))),wn=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:In}),Sn=l.z.enum(["top","middle","bottom"]),Pn=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Rn=zn.extend({text:wn,textVerticalAlign:Sn.default("top"),textPadding:Pn}),_n=sn(Rn).extend({type:l.z.literal("text")}),Vn=(dn(Rn),Rn.extend({altText:l.z.string().nullable().default(null)})),Un=sn(Vn).extend({type:l.z.literal("shape")}),Ln=(dn(Vn),l.z.object({default:l.z.string()})),Cn=zn.extend({videoSources:Ln}),On=sn(Cn).extend({type:l.z.literal("video")}),En=(dn(Cn),l.z.discriminatedUnion("type",[mn,kn,Un,_n,On])),Xn=l.z.object({blockuments:l.z.record(jn).optional(),items:l.z.record(En).optional()});var Fn=i(5663);function An(e){return"text"===e.type?{...e,_v:6,states:Oe(e.states,(e=>({...e,textPadding:Fn.un})),(e=>e))}:"shape"===e.type?{...e,_v:6,states:Oe(e.states,(e=>({...e,textPadding:Fn.Mw})),(e=>e))}:{...e,_v:6}}const Tn=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Dn=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Bn=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Dn.default({value:1,unit:"px"})}),Nn=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),qn=Nn.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Yn=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),$n=Nn.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Yn.default({width:1,height:1,left:0,top:0})}),Mn=Nn.extend({type:l.z.literal("none")}),Gn=l.z.discriminatedUnion("type",[qn,$n,Mn]),Hn=l.z.discriminatedUnion("type",[qn,Mn]),Jn=l.z.object({top:Dn.default({value:0,unit:"px"}),left:Dn.default({value:0,unit:"px"}),bottom:Dn.default({value:0,unit:"px"}),right:Dn.default({value:0,unit:"px"})}),Kn=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Qn=l.z.object({type:l.z.literal("ellipse")}),Wn=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Zn=l.z.object({type:l.z.literal("cloud")}),ea=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),ta=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),ia=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),na=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),aa=l.z.object({type:l.z.literal("octagon")}),oa=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),ra=l.z.object({type:l.z.literal("shield")}),la=l.z.object({type:l.z.literal("speechBubble")}),za=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),da=l.z.discriminatedUnion("type",[ia,na,Zn,Qn,aa,ea,Kn,Wn,ta,oa,ra,la,za]),ua=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),sa=ua.extend({x:Dn.default({value:0,unit:"px"}),y:Dn.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Dn.default({value:100,unit:"%"}),height:Dn.default({value:100,unit:"%"}),padding:Jn,fill:Gn,overlay:Hn,aspectRatioLocked:l.z.boolean(),border:Bn,clipDef:da.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),ca=e=>l.z.intersection(ua,e.partial()),pa=e=>l.z.intersection(l.z.object({default:e}),l.z.record(ca(e))),ma=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:pa(e),assets:l.z.record(Tn).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(7)}),ba=(ca(sa),l.z.object({default:l.z.string()})),ga=sa.extend({audioSources:ba}),fa=ma(ga).extend({type:l.z.literal("audio")}),ya=(ca(ga),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),xa=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),ha=xa.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),ja=xa.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),va=xa.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),ka=l.z.discriminatedUnion("action",[ja,va,ha]),Ia=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(ya).max(1),triggers:l.z.array(ka),fonts:l.z.record(l.z.string()).optional(),_v:l.z.literal(7)}),wa=sa.extend({children:l.z.array(ya)}),Sa=ma(wa).extend({type:l.z.literal("group")}),Pa=(ca(wa),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Pa))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.any()).optional()}),l.z.record(l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.any()))),Ra=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Pa}),_a=l.z.enum(["top","middle","bottom"]),Va=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Ua=sa.extend({text:Ra,textVerticalAlign:_a.default("top"),textPadding:Va}),La=ma(Ua).extend({type:l.z.literal("text")}),Ca=(ca(Ua),Ua.extend({altText:l.z.string().nullable().default(null)})),Oa=ma(Ca).extend({type:l.z.literal("shape")}),Ea=(ca(Ca),l.z.object({default:l.z.string()})),Xa=sa.extend({videoSources:Ea}),Fa=ma(Xa).extend({type:l.z.literal("video")}),Aa=(ca(Xa),l.z.discriminatedUnion("type",[fa,Sa,Oa,La,Fa])),Ta=l.z.object({blockuments:l.z.record(Ia).optional(),items:l.z.record(Aa).optional()});function Da(e,t){const i=t.width?.value??e.width.value,n=i<=100?8:i>300?32:16;return{top:16,left:n,bottom:16,right:n}}function Ba(e){return"shape"===e.type?{...e,states:(t=e.states,Oe(t,(e=>({...e,textPadding:Da(e,e)})),(e=>e.textPadding||e.width?{...e,textPadding:Da(t.default,e)}:e))),_v:7}:{...e,_v:7};var t}const Na=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),qa=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Ya=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:qa.default({value:1,unit:"px"})}),$a=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Ma=$a.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Ga=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Ha=$a.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Ga.default({width:1,height:1,left:0,top:0})}),Ja=$a.extend({type:l.z.literal("none")}),Ka=l.z.discriminatedUnion("type",[Ma,Ha,Ja]),Qa=l.z.discriminatedUnion("type",[Ma,Ja]),Wa=l.z.object({top:qa.default({value:0,unit:"px"}),left:qa.default({value:0,unit:"px"}),bottom:qa.default({value:0,unit:"px"}),right:qa.default({value:0,unit:"px"})}),Za=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),eo=l.z.object({type:l.z.literal("ellipse")}),to=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),io=l.z.object({type:l.z.literal("cloud")}),no=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),ao=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),oo=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),ro=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),lo=l.z.object({type:l.z.literal("octagon")}),zo=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),uo=l.z.object({type:l.z.literal("shield")}),so=l.z.object({type:l.z.literal("speechBubble")}),co=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),po=l.z.discriminatedUnion("type",[oo,ro,io,eo,lo,no,Za,to,ao,zo,uo,so,co]),mo=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),bo=mo.extend({x:qa.default({value:0,unit:"px"}),y:qa.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:qa.default({value:100,unit:"%"}),height:qa.default({value:100,unit:"%"}),padding:Wa,fill:Ka,overlay:Qa,aspectRatioLocked:l.z.boolean(),border:Ya,clipDef:po.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),go=e=>l.z.intersection(mo,e.partial()),fo=e=>l.z.intersection(l.z.object({default:e}),l.z.record(go(e))),yo=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:fo(e),assets:l.z.record(Na).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(8)}),xo=(go(bo),l.z.object({default:l.z.string()})),ho=bo.extend({audioSources:xo}),jo=yo(ho).extend({type:l.z.literal("audio")}),vo=(go(ho),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional(),state:l.z.string(),visible:l.z.boolean()})),ko=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),Io=ko.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),wo=ko.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),So=ko.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),Po=l.z.discriminatedUnion("action",[wo,So,Io]),Ro=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(vo).max(1),triggers:l.z.array(Po),fonts:l.z.record(l.z.string()).optional(),_v:l.z.literal(8)}),_o=bo.extend({children:l.z.array(vo)}),Vo=yo(_o).extend({type:l.z.literal("group")}),Uo=(go(_o),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Uo))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.any()).optional()}),l.z.record(l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.any()))),Lo=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Uo}),Co=l.z.enum(["top","middle","bottom"]),Oo=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Eo=bo.extend({text:Lo,textVerticalAlign:Co.default("top"),textPadding:Oo}),Xo=yo(Eo).extend({type:l.z.literal("text")}),Fo=(go(Eo),Eo.extend({altText:l.z.string().nullable().default(null)})),Ao=yo(Fo).extend({type:l.z.literal("shape")}),To=(go(Fo),l.z.object({default:l.z.string()})),Do=bo.extend({videoSources:To}),Bo=yo(Do).extend({type:l.z.literal("video")}),No=(go(Do),l.z.discriminatedUnion("type",[jo,Vo,Ao,Xo,Bo])),qo=l.z.object({blockuments:l.z.record(Ro).optional(),items:l.z.record(No).optional()});function Yo(e){return{...e,_v:8,assets:Ce(e.assets??{},(e=>({...e,path:`mondrian/assets/${e.path}`})))}}const $o=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Mo=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Go=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Mo.default({value:1,unit:"px"})}),Ho=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Jo=Ho.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Ko=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),Qo=Ho.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Ko.default({width:1,height:1,left:0,top:0})}),Wo=Ho.extend({type:l.z.literal("none")}),Zo=l.z.discriminatedUnion("type",[Jo,Qo,Wo]),er=l.z.discriminatedUnion("type",[Jo,Wo]),tr=l.z.object({top:Mo.default({value:0,unit:"px"}),left:Mo.default({value:0,unit:"px"}),bottom:Mo.default({value:0,unit:"px"}),right:Mo.default({value:0,unit:"px"})}),ir=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),nr=l.z.object({type:l.z.literal("ellipse")}),ar=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),or=l.z.object({type:l.z.literal("cloud")}),rr=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),lr=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),zr=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),dr=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),ur=l.z.object({type:l.z.literal("octagon")}),sr=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),cr=l.z.object({type:l.z.literal("shield")}),pr=l.z.object({type:l.z.literal("speechBubble")}),mr=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),br=l.z.discriminatedUnion("type",[zr,dr,or,nr,ur,rr,ir,ar,lr,sr,cr,pr,mr]),gr=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),fr=gr.extend({x:Mo.default({value:0,unit:"px"}),y:Mo.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Mo.default({value:100,unit:"%"}),height:Mo.default({value:100,unit:"%"}),padding:tr,fill:Zo,overlay:er,aspectRatioLocked:l.z.boolean(),border:Go,clipDef:br.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),yr=e=>l.z.intersection(gr,e.partial()),xr=e=>l.z.intersection(l.z.object({default:e}),l.z.record(yr(e))),hr=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:xr(e),assets:l.z.record($o).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(9)}),jr=(yr(fr),l.z.object({default:l.z.string()})),vr=fr.extend({audioSources:jr}),kr=hr(vr).extend({type:l.z.literal("audio")}),Ir=(yr(vr),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),wr=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),Sr=wr.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),Pr=wr.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),Rr=wr.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),_r=l.z.discriminatedUnion("action",[Pr,Rr,Sr]),Vr=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Ir).min(0).max(1),triggers:l.z.array(_r),fonts:l.z.record(l.z.string()).optional(),_v:l.z.literal(9)}),Ur=fr.extend({_groupBrand:l.z.never().optional()}),Lr=hr(Ur).extend({type:l.z.literal("group"),children:l.z.array(Ir)}),Cr=(yr(Ur),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Cr))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.any()).optional()}),l.z.record(l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.any()))),Or=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Cr}),Er=l.z.enum(["top","middle","bottom"]),Xr=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Fr=fr.extend({text:Or,textVerticalAlign:Er.default("top"),textPadding:Xr}),Ar=hr(Fr).extend({type:l.z.literal("text")}),Tr=(yr(Fr),Fr.extend({altText:l.z.string().nullable().default(null)})),Dr=hr(Tr).extend({type:l.z.literal("shape")}),Br=(yr(Tr),l.z.object({default:l.z.string()})),Nr=fr.extend({videoSources:Br}),qr=hr(Nr).extend({type:l.z.literal("video")}),Yr=(yr(Nr),l.z.discriminatedUnion("type",[kr,Lr,Dr,Ar,qr])),$r=l.z.object({blockuments:l.z.record(Vr).optional(),items:l.z.record(Yr).optional()});function Mr(e){return{...e,_v:9,children:e.children.map((({id:e,clonedFromId:t})=>({id:e,clonedFromId:t})))}}function Gr(e){return"group"===e.type?function(e){const t=new Map,{default:i,...n}=e.states,a=[i,...Object.values(n)];for(const e of a)if(e.children)for(const{id:i,clonedFromId:n}of e.children)t.has(i)||t.set(i,{id:i,clonedFromId:n});return{...e,_v:9,children:[...t.values()],states:Oe(e.states,(({children:e,...t})=>t),(({children:e,...t})=>t))}}(e):{...e,_v:9}}const Hr=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),Jr=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),Kr=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:Jr.default({value:1,unit:"px"})}),Qr=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),Wr=Qr.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),Zr=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),el=Qr.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:Zr.default({width:1,height:1,left:0,top:0})}),tl=Qr.extend({type:l.z.literal("none")}),il=l.z.discriminatedUnion("type",[Wr,el,tl]),nl=l.z.discriminatedUnion("type",[Wr,tl]),al=l.z.object({top:Jr.default({value:0,unit:"px"}),left:Jr.default({value:0,unit:"px"}),bottom:Jr.default({value:0,unit:"px"}),right:Jr.default({value:0,unit:"px"})}),ol=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),rl=l.z.object({type:l.z.literal("ellipse")}),ll=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),zl=l.z.object({type:l.z.literal("cloud")}),dl=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),ul=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),sl=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),cl=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),pl=l.z.object({type:l.z.literal("octagon")}),ml=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),bl=l.z.object({type:l.z.literal("shield")}),gl=l.z.object({type:l.z.literal("speechBubble")}),fl=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),yl=l.z.discriminatedUnion("type",[sl,cl,zl,rl,pl,dl,ol,ll,ul,ml,bl,gl,fl]),xl=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),hl=xl.extend({x:Jr.default({value:0,unit:"px"}),y:Jr.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:Jr.default({value:100,unit:"%"}),height:Jr.default({value:100,unit:"%"}),padding:al,fill:il,overlay:nl,aspectRatioLocked:l.z.boolean(),border:Kr,clipDef:yl.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),jl=e=>l.z.intersection(xl,e.partial()),vl=e=>l.z.intersection(l.z.object({default:e}),l.z.record(jl(e))),kl=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:vl(e),assets:l.z.record(Hr).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(10)}),Il=(jl(hl),l.z.object({default:l.z.string()})),wl=hl.extend({audioSources:Il}),Sl=kl(wl).extend({type:l.z.literal("audio")}),Pl=(jl(wl),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),Rl=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional()}),_l=Rl.extend({action:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.string()}),Vl=Rl.extend({action:l.z.literal("changeState"),targetId:l.z.string(),targetState:l.z.string().default("default")}),Ul=Rl.extend({action:l.z.literal("changeVisibility"),targetId:l.z.string(),targetVisibility:l.z.boolean()}),Ll=l.z.discriminatedUnion("action",[Vl,Ul,_l]),Cl=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Pl).min(0).max(1),triggers:l.z.array(Ll),fonts:l.z.record(l.z.string()).optional(),_v:l.z.literal(10)}),Ol=l.z.object({x:l.z.number(),y:l.z.number()}),El=l.z.object({applied:l.z.literal(!1)}),Xl=l.z.object({applied:l.z.literal(!0),offset:Ol,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),Fl=l.z.discriminatedUnion("applied",[El,Xl]),Al=hl.extend({_groupBrand:l.z.never().optional()}),Tl=kl(Al).extend({type:l.z.literal("group"),children:l.z.array(Pl)}),Dl=(jl(Al),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Dl))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.any()).optional()}),l.z.record(l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.any()))),Bl=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Dl}),Nl=l.z.enum(["top","middle","bottom"]),ql=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Yl=hl.extend({text:Bl,textVerticalAlign:Nl.default("top"),textPadding:ql}),$l=kl(Yl).extend({type:l.z.literal("text")}),Ml=(jl(Yl),Yl.extend({altText:l.z.string().nullable().default(null),dropShadow:Fl})),Gl=kl(Ml).extend({type:l.z.literal("shape")}),Hl=(jl(Ml),l.z.object({default:l.z.string()})),Jl=hl.extend({videoSources:Hl}),Kl=kl(Jl).extend({type:l.z.literal("video")}),Ql=(jl(Jl),l.z.discriminatedUnion("type",[Sl,Tl,Gl,$l,Kl])),Wl=l.z.object({blockuments:l.z.record(Cl).optional(),items:l.z.record(Ql).optional()});function Zl(e){return"shape"===e.type?{...e,_v:10,states:Oe(e.states,(e=>({...e,dropShadow:{applied:!1}})),(e=>e))}:{...e,_v:10}}const ez=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),tz=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),iz=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:tz.default({value:1,unit:"px"})}),nz=l.z.object({assetId:l.z.string().optional(),color:l.z.string().optional(),opacity:l.z.number().min(0).max(1).default(1)}),az=nz.extend({type:l.z.literal("color"),color:l.z.string().default("#e4e4e4")}),oz=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),rz=nz.extend({type:l.z.literal("image"),assetId:l.z.string(),crop:oz.default({width:1,height:1,left:0,top:0})}),lz=nz.extend({type:l.z.literal("none")}),zz=l.z.discriminatedUnion("type",[az,rz,lz]),dz=l.z.discriminatedUnion("type",[az,lz]),uz=l.z.object({top:tz.default({value:0,unit:"px"}),left:tz.default({value:0,unit:"px"}),bottom:tz.default({value:0,unit:"px"}),right:tz.default({value:0,unit:"px"})}),sz=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),cz=l.z.object({type:l.z.literal("ellipse")}),pz=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),mz=l.z.object({type:l.z.literal("cloud")}),bz=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),gz=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),fz=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),yz=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),xz=l.z.object({type:l.z.literal("octagon")}),hz=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),jz=l.z.object({type:l.z.literal("shield")}),vz=l.z.object({type:l.z.literal("speechBubble")}),kz=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),Iz=l.z.discriminatedUnion("type",[fz,yz,mz,cz,xz,bz,sz,pz,gz,hz,jz,vz,kz]),wz=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),Sz=wz.extend({x:tz.default({value:0,unit:"px"}),y:tz.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:tz.default({value:100,unit:"%"}),height:tz.default({value:100,unit:"%"}),padding:uz,fill:zz,overlay:dz,aspectRatioLocked:l.z.boolean(),border:iz,clipDef:Iz.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),Pz=e=>l.z.intersection(wz,e.partial()),Rz=e=>l.z.intersection(l.z.object({default:e}),l.z.record(Pz(e))),_z=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:Rz(e),assets:l.z.record(ez).default({}).optional(),removed:l.z.boolean().default(!1),_v:l.z.literal(11)}),Vz=(Pz(Sz),l.z.object({default:l.z.string()})),Uz=Sz.extend({audioSources:Vz}),Lz=_z(Uz).extend({type:l.z.literal("audio")}),Cz=(Pz(Uz),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),Oz=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),Ez=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),Xz=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),Fz=l.z.discriminatedUnion("type",[Oz,Ez,Xz]),Az=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(Fz)}),Tz=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Cz).min(0).max(1),triggers:l.z.array(Az),fonts:l.z.record(l.z.string()).optional(),_v:l.z.literal(11)}),Dz=l.z.object({x:l.z.number(),y:l.z.number()}),Bz=l.z.object({applied:l.z.literal(!1)}),Nz=l.z.object({applied:l.z.literal(!0),offset:Dz,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),qz=l.z.discriminatedUnion("applied",[Bz,Nz]),Yz=Sz.extend({_groupBrand:l.z.never().optional()}),$z=_z(Yz).extend({type:l.z.literal("group"),children:l.z.array(Cz)}),Mz=(Pz(Yz),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>Mz))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.any()).optional()}),l.z.record(l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.any()))),Gz=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:Mz}),Hz=l.z.enum(["top","middle","bottom"]),Jz=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),Kz=Sz.extend({text:Gz,textVerticalAlign:Hz.default("top"),textPadding:Jz}),Qz=_z(Kz).extend({type:l.z.literal("text")}),Wz=(Pz(Kz),Kz.extend({altText:l.z.string().nullable().default(null),dropShadow:qz})),Zz=_z(Wz).extend({type:l.z.literal("shape")}),ed=(Pz(Wz),l.z.object({default:l.z.string()})),td=Sz.extend({videoSources:ed}),id=_z(td).extend({type:l.z.literal("video")}),nd=(Pz(td),l.z.discriminatedUnion("type",[Lz,$z,Zz,Qz,id])),ad=l.z.object({blockuments:l.z.record(Tz).optional(),items:l.z.record(nd).optional()});function od(e){switch(e.action){case"changeState":return{type:e.action,targetId:[e.targetId],targetState:e.targetState};case"changeVisibility":return{type:e.action,targetId:[e.targetId],targetVisibility:e.targetVisibility};default:return{type:e.action,targetId:[e.targetId]}}}function rd(e){return{...e,triggers:e.triggers.map((e=>({id:e.id,event:e.event,sourceId:e.sourceId,actions:[od(e)]}))),_v:11}}function ld(e){return{...e,_v:11}}const zd=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),dd=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),ud=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:dd.default({value:1,unit:"px"})}),sd=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),cd=l.z.object({opacity:l.z.number().min(0).max(1).default(1)}),pd=cd.extend({color:l.z.string().optional()}),md=cd.extend({assetId:l.z.string().optional(),crop:sd.default({width:1,height:1,left:0,top:0})}),bd=l.z.enum(["color","image"]),gd=l.z.intersection(l.z.intersection(pd,md),l.z.object({type:bd})),fd=pd.extend({type:l.z.literal("color")}),yd=l.z.object({top:dd.default({value:0,unit:"px"}),left:dd.default({value:0,unit:"px"}),bottom:dd.default({value:0,unit:"px"}),right:dd.default({value:0,unit:"px"})}),xd=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),hd=l.z.object({type:l.z.literal("ellipse")}),jd=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),vd=l.z.object({type:l.z.literal("cloud")}),kd=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Id=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),wd=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),Sd=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),Pd=l.z.object({type:l.z.literal("octagon")}),Rd=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),_d=l.z.object({type:l.z.literal("shield")}),Vd=l.z.object({type:l.z.literal("speechBubble")}),Ud=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),Ld=l.z.discriminatedUnion("type",[wd,Sd,vd,hd,Pd,kd,xd,jd,Id,Rd,_d,Vd,Ud]),Cd=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),Od=Cd.extend({x:dd.default({value:0,unit:"px"}),y:dd.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:dd.default({value:100,unit:"%"}),height:dd.default({value:100,unit:"%"}),padding:yd,fill:gd,overlay:fd,aspectRatioLocked:l.z.boolean(),border:ud,clipDef:Ld.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),Ed=e=>l.z.intersection(Cd,e.partial()),Xd=e=>l.z.intersection(l.z.object({default:e}),l.z.record(Ed(e))),Fd=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:Xd(e),assets:l.z.record(zd).default({}),removed:l.z.boolean().default(!1),_v:l.z.literal(12)}),Ad=(Ed(Od),l.z.object({default:l.z.string()})),Td=Od.extend({audioSources:Ad}),Dd=Fd(Td).extend({type:l.z.literal("audio")}),Bd=(Ed(Td),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),Nd=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),qd=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),Yd=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),$d=l.z.discriminatedUnion("type",[Nd,qd,Yd]),Md=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array($d)}),Gd=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Bd).min(0).max(1),triggers:l.z.array(Md),fonts:l.z.record(l.z.string()).optional(),_v:l.z.literal(12)}),Hd=l.z.object({x:l.z.number(),y:l.z.number()}),Jd=l.z.object({applied:l.z.literal(!1)}),Kd=l.z.object({applied:l.z.literal(!0),offset:Hd,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),Qd=l.z.discriminatedUnion("applied",[Jd,Kd]),Wd=Od.extend({_groupBrand:l.z.never().optional()}),Zd=Fd(Wd).extend({type:l.z.literal("group"),children:l.z.array(Bd)}),eu=(Ed(Wd),l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>eu))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.any()).optional()}),l.z.record(l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.any()))),tu=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:eu}),iu=l.z.enum(["top","middle","bottom"]),nu=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),au=Od.extend({text:tu,textVerticalAlign:iu.default("top"),textPadding:nu}),ou=Fd(au).extend({type:l.z.literal("text")}),ru=(Ed(au),au.extend({altText:l.z.string().nullable().default(null),dropShadow:Qd})),lu=Fd(ru).extend({type:l.z.literal("shape")}),zu=(Ed(ru),l.z.object({default:l.z.string()})),du=Od.extend({videoSources:zu}),uu=Fd(du).extend({type:l.z.literal("video")}),su=(Ed(du),l.z.discriminatedUnion("type",[Dd,Zd,lu,ou,uu])),cu=l.z.object({blockuments:l.z.record(Gd).optional(),items:l.z.record(su).optional()});var pu=i(8562);const mu={type:"color",opacity:1},bu={...mu,crop:{height:1,width:1,top:0,left:0}};function gu(e){return e&&"none"!==e.type?"color"===e.type?{...e,crop:bu.crop}:e:bu}function fu(e){return{...e,_v:12}}function yu(e){return{...e,fill:gu(e.fill),overlay:gu(e.overlay)}}function xu(e){return{...e,fill:gu(e.fill),overlay:(t=e.overlay,t&&"none"!==t.type?t:mu)};var t}function hu(e){switch(e.type){case"audio":case"group":case"shape":case"text":case"video":return function(e){return e.assets[pu.up.id]=pu.up,e.states.default.fill.assetId||(e.states.default.fill.assetId=pu.up.id),e}({...e,states:Oe(e.states,yu,xu),_v:12,assets:e.assets??{}});default:throw new Error("Unreachable")}}const ju=l.z.object({id:l.z.string(),path:l.z.string(),name:l.z.string(),width:l.z.number().optional(),height:l.z.number().optional()}),vu=l.z.object({unit:l.z.enum(["px","%","auto","fr"]),value:l.z.number()}),ku=l.z.object({applied:l.z.boolean().default(!1),type:l.z.enum(["none","fill"]).default("none"),color:l.z.string().default("#000000"),opacity:l.z.number().default(1),style:l.z.enum(["solid","dashed","dotted"]).default("solid"),width:vu.default({value:1,unit:"px"})}),Iu=l.z.object({width:l.z.number(),height:l.z.number(),left:l.z.number(),top:l.z.number()}),wu=l.z.object({opacity:l.z.number().min(0).max(1).default(1)}),Su=l.z.enum(["color","image"]),Pu=wu.extend({color:l.z.string().optional()}),Ru=Pu.extend({type:Su,assetId:l.z.string().optional(),crop:Iu.default({width:1,height:1,left:0,top:0})}),_u=l.z.object({top:vu.default({value:0,unit:"px"}),left:vu.default({value:0,unit:"px"}),bottom:vu.default({value:0,unit:"px"}),right:vu.default({value:0,unit:"px"})}),Vu=l.z.object({type:l.z.literal("rectangle"),borderRadius:l.z.object({topLeft:l.z.number(),topRight:l.z.number(),bottomRight:l.z.number(),bottomLeft:l.z.number()}).optional()}),Uu=l.z.object({type:l.z.literal("ellipse")}),Lu=l.z.object({type:l.z.literal("star"),sidePairs:l.z.number().min(3),innerRadius:l.z.number().min(.1).max(1)}),Cu=l.z.object({type:l.z.literal("cloud")}),Ou=l.z.object({type:l.z.literal("plus"),stroke:l.z.number().min(.01).max(1)}),Eu=l.z.object({type:l.z.literal("triangle"),topVertex:l.z.number().min(0).max(1).optional()}),Xu=l.z.object({type:l.z.literal("bookmark"),cutoutInset:l.z.number().min(0).max(.8)}),Fu=l.z.object({type:l.z.literal("chevron"),outsideCornerXCoords:l.z.number().min(.7).max(1),insideCenterXCoord:l.z.number().min(0).max(.3)}),Au=l.z.object({type:l.z.literal("octagon")}),Tu=l.z.object({type:l.z.literal("parallelogram"),shear:l.z.number().min(0).max(1)}),Du=l.z.object({type:l.z.literal("shield")}),Bu=l.z.object({type:l.z.literal("speechBubble")}),Nu=l.z.object({type:l.z.literal("arrow"),thickness:l.z.number().min(.1).max(.5),headLength:l.z.number().min(.1).max(.9)}),qu=l.z.discriminatedUnion("type",[Xu,Fu,Cu,Uu,Au,Ou,Vu,Lu,Eu,Tu,Du,Bu,Nu]),Yu=l.z.object({id:l.z.string(),name:l.z.string().max(128)}),$u=Yu.extend({x:vu.default({value:0,unit:"px"}),y:vu.default({value:0,unit:"px"}),xOffset:l.z.number().default(0),yOffset:l.z.number().default(0),position:l.z.literal("absolute").default("absolute"),width:vu.default({value:100,unit:"%"}),height:vu.default({value:100,unit:"%"}),padding:_u,fill:Ru,overlay:Pu,aspectRatioLocked:l.z.boolean(),border:ku,clipDef:qu.default({type:"rectangle"}),rotation:l.z.number().default(0),flipX:l.z.boolean().default(!1),flipY:l.z.boolean().default(!1),authoringAspectRatioCropLock:l.z.enum(["freeform","preset","none"])}),Mu=e=>l.z.intersection(Yu,e.partial()),Gu=e=>l.z.intersection(l.z.object({default:e}),l.z.record(Mu(e))),Hu=e=>l.z.object({id:l.z.string(),blockumentId:l.z.string(),clonedFromId:l.z.string().optional(),parentId:l.z.string(),type:l.z.string(),name:l.z.string().max(128),tagName:l.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:l.z.boolean().default(!1),authoringVisible:l.z.boolean().default(!0),initialVisible:l.z.boolean().default(!0),initialState:l.z.string().default("default"),states:Gu(e),assets:l.z.record(ju).default({}),removed:l.z.boolean().default(!1),layer:l.z.string().optional(),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(13)}),Ju=(Mu($u),l.z.object({default:l.z.string()})),Ku=$u.extend({audioSources:Ju}),Qu=Hu(Ku).extend({type:l.z.literal("audio")}),Wu=(Mu(Ku),l.z.object({id:l.z.string(),clonedFromId:l.z.string().optional()})),Zu=l.z.object({type:l.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:l.z.array(l.z.string())}),es=l.z.object({type:l.z.literal("changeState"),targetId:l.z.tuple([l.z.string()]),targetState:l.z.string().default("default")}),ts=l.z.object({type:l.z.literal("changeVisibility"),targetId:l.z.array(l.z.string()),targetVisibility:l.z.boolean()}),is=l.z.object({type:l.z.literal("changeLayer"),layerId:l.z.string().nullable()}),ns=l.z.discriminatedUnion("type",[Zu,es,ts,is]),as=l.z.object({id:l.z.string(),event:l.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:l.z.string().optional(),actions:l.z.array(ns)}),os=l.z.object({id:l.z.string(),title:l.z.string().max(255),children:l.z.array(Wu).min(0).max(1),triggers:l.z.array(as),fonts:l.z.record(l.z.string()).optional(),layers:l.z.array(l.z.object({id:l.z.string(),name:l.z.string()})),aiExperiment:l.z.boolean().optional(),_v:l.z.literal(13)}),rs=$u.extend({_groupBrand:l.z.never().optional()}),ls=Hu(rs).extend({type:l.z.literal("group"),children:l.z.array(Wu)}),zs=(Mu(rs),l.z.object({x:l.z.number(),y:l.z.number()})),ds=l.z.object({applied:l.z.literal(!1)}),us=l.z.object({applied:l.z.literal(!0),offset:zs,blur:l.z.number().min(0),spread:l.z.number().min(0),color:l.z.string(),opacity:l.z.number().min(0).max(1)}),ss=l.z.discriminatedUnion("applied",[ds,us]),cs=l.z.intersection(l.z.object({type:l.z.string().optional(),attrs:l.z.record(l.z.any()).optional(),content:l.z.array(l.z.lazy((()=>cs))).optional(),marks:l.z.array(l.z.intersection(l.z.object({type:l.z.string(),attrs:l.z.record(l.z.any()).optional()}),l.z.record(l.z.any()))).optional(),text:l.z.string().optional()}),l.z.record(l.z.any())),ps=l.z.object({id:l.z.string(),type:l.z.literal("tiptap"),json:cs}),ms=l.z.enum(["top","middle","bottom"]),bs=l.z.object({top:l.z.number(),left:l.z.number(),bottom:l.z.number(),right:l.z.number()}),gs=$u.extend({text:ps,textVerticalAlign:ms.default("top"),textPadding:bs}),fs=Hu(gs).extend({type:l.z.literal("text")}),ys=(Mu(gs),gs.extend({altText:l.z.string().nullable().default(null),dropShadow:ss})),xs=Hu(ys).extend({type:l.z.literal("shape")}),hs=(Mu(ys),l.z.object({default:l.z.string()})),js=$u.extend({videoSources:hs}),vs=Hu(js).extend({type:l.z.literal("video")}),ks=(Mu(js),l.z.discriminatedUnion("type",[Qu,ls,xs,fs,vs])),Is=(l.z.object({blockument:os.optional(),items:l.z.record(ks).optional()}),l.z.object({blockuments:l.z.record(os).optional(),items:l.z.record(ks).optional()})),ws=Is;function Ss(e){return{...e,layers:[],_v:13}}function Ps(e){return{...e,_v:13}}const Rs=13,_s=[{version:3,upgrade:function({blockuments:e,items:t}){return{blockuments:Ce(e??{},(e=>({...e,_v:3}))),items:Ce(t??{},Fe)}},InputSchema:M,OutputSchema:Le},{version:4,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},(e=>({...e,_v:4}))),items:Ce(e.items??{},Ct)}},InputSchema:Le,OutputSchema:Rt},{version:5,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},(e=>({...e,_v:5}))),items:Ce(e.items??{},Oi)}},InputSchema:Rt,OutputSchema:Vi},{version:6,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},(e=>({...e,_v:6}))),items:Ce(e.items??{},An)}},InputSchema:Vi,OutputSchema:Xn},{version:7,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},(e=>({...e,_v:7}))),items:Ce(e.items??{},Ba)}},InputSchema:Xn,OutputSchema:Ta},{version:8,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},(e=>({...e,_v:8}))),items:Ce(e.items??{},Yo)}},InputSchema:Ta,OutputSchema:qo},{version:9,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},Mr),items:Ce(e.items??{},Gr)}},InputSchema:qo,OutputSchema:$r},{version:10,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},(e=>({...e,_v:10}))),items:Ce(e.items??{},Zl)}},InputSchema:$r,OutputSchema:Wl},{version:11,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},rd),items:Ce(e.items??{},ld)}},InputSchema:Wl,OutputSchema:ad},{version:12,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},fu),items:Ce(e.items??{},hu)}},InputSchema:ad,OutputSchema:cu},{version:13,upgrade:function(e){return{blockuments:Ce(e.blockuments??{},Ss),items:Ce(e.items??{},Ps)}},InputSchema:cu,OutputSchema:Is}];function Vs(e){const t=Os(e);return t===Rs?ws.parse(e):Us(t,Rs)(e)}function Us(e,t){return n(Ls(e,t).map((({InputSchema:e,upgrade:t,OutputSchema:i})=>n(e.parse,t,i.parse))))}function Ls(e,t){const i=a(e+1,t+1),n=_s.filter((({version:e})=>i.includes(e)));return o(n,"version")}function Cs(e){const t=_s.find((t=>t.version===e));if(!t)throw new Error("No converter found for claimed version");return t}function Os(e){const t=r.B2.parse(e);let i,n;function a(e){if(e)for(const{id:t,_v:a}of Object.values(e))if(null==i)i=a,n=t;else if(i!==a)throw new Error(`Multiple versions found in manifest: { id: ${n}, _v: ${i} } and { id: ${t}, _v: ${a} }`)}return a(t.blockuments),a(t.items),i??Rs}}}]);